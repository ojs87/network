{% extends "network/layout.html" %}
{% block body %}
{% if user.is_authenticated %}
<h1>Followers Posts</h1>
<div id=container-newpost>
   <div id=newpost>
      <h3>New Post</h3>
      <form id="newpostform">
         <textarea id="newpostbody"></textarea>
         <button id="post-button" class="btn btn-primary">Post</button>
      </form>
   </div>
</div>
<div id=container-allposts>
   {% for post in page_obj %}
   <div id=allposts>
      <h3><a href="{% url "profile" user=post.user %}">{{post.user|title}}</a> wrote:</h3>
      <p>
         {{post.body}}
      </p>
      <p id="timestamp">
         {{post.timestamp}}
      </p>
   </div>
   {% endfor %}
   <nav aria-label="page navigation">
      <ul class="pagination">
         {% if page_obj.has_previous %}
         <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
         {% else %}
         <li class="page-item disabled"><a class="page-link">Previous</a></li>
         {% endif %}

         <span class="page-link">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
         </span>

         {% if page_obj.has_next %}
         <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
         {% else%}
         <li class="page-item disabled"><a class="page-link">Next</a></li>
         {% endif %}
      </ul>
   </nav>
</div>
</div>
{% else %}
<h1>You must be logged in to view this page</h1>
{% endif %}
{% endblock %}
